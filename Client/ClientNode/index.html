<!doctype html>
<html>
    <head>
      <script src="ClientNode.browser.js"></script>
    </head>
    <body>
        <h1>Test site</h1>
        <div>
          <ul>
            <li>Status: <span id="status">-</span></li>
            <li>Node id: <span id="node_id">-</span></li>
          </ul>
        </div>

        <script>
            var clientNode = new ClientNode();
        </script>
        <button onclick="clientNode.fetchJobs()">Fetch jobs</button>
        <button onclick="clientNode.executeJob(clientNode.jobs[0])">Execute 1st job</button>

        <h1>Jobs</h1>
        <div id="jobs">
        </div>

        <h1>Log</h1>
        <div id="log">
        </div>

        <script>
            window.console = {
                log: function(str) {
                    var node = document.createElement("div");
                    node.appendChild(document.createTextNode(str));
                    document.getElementById("log").appendChild(node);
                },
                jobs: function(str) {
                    var node = document.createElement("div");
                    node.appendChild(document.createTextNode(str));
                    document.getElementById("jobs").appendChild(node);
                }
            }
        </script>
    </body>
</html>
